<div class="container">

  <h3>Order admin panel</h3>
  <hr/>
  <div class="row pt-3">
    <div class="col-10 d-flex">
      <div class="form-group d-flex align-items-center"> <!-- Use align-items-center to vertically center content -->
        <input class="form-control-sm" [(ngModel)]="request.SearchString" placeholder="Search" type="search" id="example-search-input">
        <button class="btn btn-sm btn-primary" (click)="getData()">Search</button>
        <button class="btn btn-sm btn-warning" (click)="resetSearchString()">Reset</button>
      </div>
    </div>
    <!-- <div class="col-2 d-flex justify-content-end">
      <div>
        <button (click)="addEditOrder(newItem)" class="btn-sm btn-primary">Add order</button>
      </div>
    </div> -->
  </div>

    <div>
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Order Name</th>
            <th scope="col">User Name</th>
            <th scope="col">Shopping Cart</th>
            <th scope="col">Total Amount</th>
            <th scope="col">Order Status</th>
            <th scope="col">Payment Type</th>
            <th scope="col">Date Created</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let order of response?.Items">
            <td>{{ order.OrderName }}</td>
            <td>{{ order.User?.Name || '/' }}</td>
            <td>{{ order.ShoppingCart?.Name || "" }}</td>
            <td>${{ order.TotalAmount }}</td>
            <td>
              <span *ngIf="order.OrderStatus == 0">
                <div class="bg-danger p-2">{{ order.OrderStatus | orderStatus }}</div>
            </span>
              <span *ngIf="order.OrderStatus == 1">
                <div class="bg-warning p-2">{{ order.OrderStatus | orderStatus }}</div>
            </span>
              <span *ngIf="order.OrderStatus == 2">
                <div class="bg-info p-2">{{ order.OrderStatus | orderStatus }}</div>
            </span>
              <span *ngIf="order.OrderStatus == 3">
                <div class="bg-success p-2">{{ order.OrderStatus | orderStatus }}</div>
            </span>
            </td>
            <td>
              <span *ngIf="order.PaymentType == 0" class="bg-info p-2 align-content-center">{{ order.PaymentType | paymentType }}</span>
              <span *ngIf="order.PaymentType == 1" class="bg-dark text-white p-2 align-content-center">{{ order.PaymentType | paymentType }} </span>
            </td>
            <td *ngIf="order.DateCreated">{{ (order.DateCreated | dateConverter) || '/'}}</td>
          <td>
              <button (click)="addEditOrder(order)" class="btn-sm btn-warning">Edit</button>
          </td>
          <td>
              <button  (click)="deleteOrder(order?.Id)" class="btn-sm btn-danger">Delete</button>
          </td>
        </tr>
        </tbody>
      </table>
      <div class="row">
        <div class="col">
          <ngb-pagination
          [(page)]="response.CurrentPage" 
          [pageSize]="response.Size" 
          [collectionSize]="response.TotalItems" 
          [rotate]="true" 
          [boundaryLinks]="true"
          (pageChange)="onPageChange($event)"
          ></ngb-pagination>
        </div>
        <mat-form-field>
          <mat-label>Page Size</mat-label>
          <mat-select [(value)]="response.Size" (selectionChange)="onPageSizeChange($event.value)">
            <mat-option *ngFor="let option of pagination" [value]="option">{{ option }}</mat-option>
          </mat-select>
        </mat-form-field>
       </div>
    </div>
  </div>